## Manual migration script
A ruby script to aid migrating legacy content from old URLs.

### Flags / Options
- **`--help` alias[`-h`]:** Provides available options and usages on the command line
- **`--content-html-script` alias[`-o`]:** Adds script to paste HTML inside content editor (default: false)
- **`--copy-to-clipboard` alias[`-c`]:** Copies console script to clipboard (default: true)
- **`--original-url` alias[`-u`]:** Original url to migrate without user input (default: user input)
- **`--base64-img` alias[`-b`]:** Encode <img> tags as base64 data (default: false)

### Guidelines enforced by script
- `<h2>` header directly under `<h1>` should be regular text size
- No inline styles (colors, font-size, text-align, etc)
- Phone numbers should be formatted bold with tel link (`<strong><a href="tel:">`)
- Any `<h2>` or `<h1>` should be migrated as `<h3>`
- Remove _(Updated 101316)_ or _(Rev. 101316)_ from content
- Inline small images should be floated right
- Bullet lists should have a padding-left of `40px`

### Workflow steps
0. Make sure the **content editor** template matches the template on the **google sheet**
1. On the **google sheet** mark the item you'll be working on with your name, and _In Progress_ status.
2. Open the _Old URL_ you'll be migrating.
3. Open **Terminal** and change to the directory with **manually-migrate.rb** (`cd /path/to/folder/dh_migration`)
4. Run `ruby manually-migrate.rb` and paste the _Old URL_ into the input field.
5. Open the **Content Editor** and locate the shell page for the content you are migrating.
6. Open the **Developer Tools** console and paste the _Console Script_ generated by **manually-migrate.rb**
7. Double check that the fields _PageHeadTitle, PageHeadDescription_ and _Content Title (Title, or Header)_ are filled .
8. Double check that the checkboxes _PageAddToSitemap_ and _PageShowInSearch_ are checked.
9. Open the _Preview_ mode for the page you are working on.
10. Edit the rich text editor and paste the _Content HTML_ generated by **manually-migrate.rb**
11. Insert / Upload any inline legacy images downloaded by the script.
12. Add any missing line breaks _(shift + enter)_
13. Pick a header image for your content.
14. Hit _Publish_ and go back to the google sheet to mark it _Complete_
